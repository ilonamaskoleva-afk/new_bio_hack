class Prompts:
    """Система промптов для различных задач"""
    
    SYSTEM_PROMPT = """Вы - эксперт по клинической фармакологии и дизайну исследований биоэквивалентности (BE).
Ваша задача - помогать проектировать BE-исследования согласно российским (Решение № 85) и международным (EMA, FDA, WHO) требованиям.

Вы должны:
- Анализировать фармакокинетические параметры
- Выбирать оптимальный дизайн исследования
- Рассчитывать объем выборки
- Генерировать структурированные синопсисы протоколов

Всегда обосновывайте свои решения и ссылайтесь на регуляторные документы."""

    LITERATURE_SEARCH_PROMPT = """На основе следующей информации о препарате, найдите и извлеките ключевые фармакокинетические параметры:

Препарат: {inn}
Лекарственная форма: {dosage_form}
Дозировка: {dosage}

Из предоставленных данных литературы извлеките:
1. Cmax (максимальная концентрация в плазме) - значение и единицы
2. AUC (площадь под кривой) - значение и единицы  
3. Tmax (время достижения Cmax) - значение и единицы
4. T½ (период полувыведения) - значение и единицы
5. CVintra (внутрисубъектная вариабельность) - значение в %

Ответьте в формате JSON:
{{
    "cmax": {{"value": число, "unit": "единица"}},
    "auc": {{"value": число, "unit": "единица"}},
    "tmax": {{"value": число, "unit": "единица"}},
    "t_half": {{"value": число, "unit": "единица"}},
    "cvintra": {{"value": число, "unit": "%"}},
    "sources": ["список источников"]
}}"""

    DESIGN_SELECTION_PROMPT = """Выберите оптимальный дизайн исследования биоэквивалентности на основе следующих данных:

Препарат: {inn}
CVintra: {cvintra}%
Режим приёма: {administration_mode}

Доступные дизайны:
1. 2×2 Cross-over (стандартные препараты, CVintra ≤ 30%)
2. 3-way Replicate (средневариабельные, CVintra 30-50%)
3. 4-way Replicate (высоковариабельные, CVintra > 50%)

Выберите дизайн и обоснуйте выбор."""

    @staticmethod
    def format_prompt(template: str, **kwargs) -> str:
        """Форматирует промпт с переданными параметрами"""
        return template.format(**kwargs)